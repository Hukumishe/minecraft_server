# Как создать файл ops.json на Railway

## Проблема с Railway CLI

`railway shell` **не подключает к контейнеру** - он только добавляет переменные окружения Railway. Прямой доступ к файлам контейнера через CLI ограничен.

## Решение: Создать файл при первом запуске

Самый надежный способ - создать файл `ops.json` автоматически при первом запуске сервера.

### Шаг 1: Добавьте переменную окружения

1. В Railway: **Settings → Variables**
2. Добавьте переменную:
   - **Имя**: `OPS_UUID`
   - **Значение**: ваш UUID (получите на https://mcuuid.net/)
3. Добавьте еще одну переменную:
   - **Имя**: `OPS_NAME`
   - **Значение**: ваш никнейм Minecraft

### Шаг 2: Обновите скрипт start.sh

Нужно добавить код, который создаст `ops.json` при первом запуске, если файла еще нет.

**Текущий start.sh уже готов к этому, но нужно добавить логику создания ops.json**

### Шаг 3: Альтернатива - использовать команду в игре

**Самый простой способ:**

1. Подключитесь к серверу в Minecraft
2. Если вы первый игрок на сервере, попробуйте:
   - Выполнить: `/op ваш_ник`
   - Или попросить другого игрока (если есть) выполнить: `/op ваш_ник`

## Временное решение: Изменить скрипт запуска

Можно обновить `start.sh`, чтобы он автоматически создавал `ops.json` при первом запуске.

**Пример кода для добавления в start.sh:**

```bash
# Создаем ops.json, если его нет и указаны переменные окружения
if [ ! -f ops.json ] && [ ! -z "$OPS_UUID" ] && [ ! -z "$OPS_NAME" ]; then
    echo "Создание ops.json для оператора $OPS_NAME..."
    cat > ops.json << EOF
[
  {
    "uuid": "$OPS_UUID",
    "name": "$OPS_NAME",
    "level": 4,
    "bypassesPlayerLimit": false
  }
]
EOF
    echo "ops.json создан!"
fi
```

Этот код нужно добавить в `start.sh` перед запуском сервера.

## Получение UUID

1. Зайдите на https://mcuuid.net/
2. Введите ваш никнейм Minecraft
3. Скопируйте UUID (формат: `xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx`)

## Проверка

После настройки:
1. Перезапустите сервер в Railway
2. Подключитесь к серверу
3. Попробуйте выполнить команду: `/gamemode creative`
4. Если работает - вы оператор!

