# Использование кастомных сборок

Этот сервер поддерживает загрузку кастомных сборок Minecraft (с модами, плагинами и т.д.).

## Как использовать кастомную сборку

### Шаг 1: Подготовка сборки

Убедитесь, что у вас есть:
- Готовая сборка сервера в формате `.jar`
- Прямая ссылка для скачивания этого файла

### Шаг 2: Размещение файла

Загрузите ваш `.jar` файл на один из сервисов:

**GitHub Releases (рекомендуется):**
1. Создайте репозиторий на GitHub
2. Создайте Release
3. Загрузите файл `.jar` в Release
4. Скопируйте прямую ссылку на файл (нажмите правой кнопкой на файл → "Copy link address")
   - Пример: `https://github.com/username/repo/releases/download/v1.0/server.jar`

**Другие варианты:**
- **Dropbox**: Загрузите файл, получите прямую ссылку
- **Google Drive**: Используйте прямую ссылку (требует настройки)
- **Собственный хостинг**: Разместите файл и получите прямую ссылку

### Шаг 3: Настройка на Railway

1. Откройте проект на Railway
2. Перейдите в Settings → Variables
3. Добавьте переменную:
   - **Имя**: `CUSTOM_SERVER_URL`
   - **Значение**: `https://ваш-url-к-файлу.jar`
4. Сохраните изменения
5. Перезапустите сервис

### Шаг 4: Проверка

После перезапуска проверьте логи:
- Должно появиться сообщение "Скачивание кастомной сборки Minecraft сервера..."
- Затем "Кастомная сборка успешно скачана!"
- Сервер должен запуститься

## Популярные сборки

### Forge (моды)
- Скачайте установщик Forge для нужной версии
- Установите сервер
- Загрузите полученный `.jar` файл

### Fabric (моды)
- Скачайте Fabric Loader
- Установите на сервер
- Загрузите полученный `.jar` файл

### Paper/Spigot/Bukkit (плагины)
- Скачайте Paper/Spigot/Bukkit для нужной версии
- Загрузите файл напрямую

### Другие сборки
- Любая сборка, совместимая с Java 17, должна работать

## Важные замечания

⚠️ **Прямая ссылка**: URL должен вести напрямую к файлу `.jar`, а не к странице загрузки

⚠️ **Доступность**: Файл должен быть доступен для скачивания без авторизации (или используйте токены доступа в URL)

⚠️ **Размер файла**: Учтите, что большие сборки могут долго скачиваться при первом запуске

⚠️ **Обновление**: При изменении `CUSTOM_SERVER_URL` нужно перезапустить сервис, чтобы скачалась новая версия

## Примеры URL

```
# GitHub Releases
https://github.com/username/repo/releases/download/v1.0/server.jar

# Прямая ссылка с хостинга
https://example.com/files/minecraft-server.jar

# Dropbox (требует настройки для прямой ссылки)
https://www.dropbox.com/s/xxxxx/server.jar?dl=1
```

## Решение проблем

**Сборка не скачивается:**
- Проверьте правильность URL
- Убедитесь, что ссылка ведет напрямую к файлу
- Проверьте доступность файла в браузере

**Сервер не запускается:**
- Проверьте, что сборка совместима с Java 17
- Проверьте логи на наличие ошибок
- Убедитесь, что файл не поврежден

**Медленная загрузка:**
- Используйте быстрый хостинг (GitHub Releases обычно быстрый)
- Уменьшите размер сборки, если возможно

